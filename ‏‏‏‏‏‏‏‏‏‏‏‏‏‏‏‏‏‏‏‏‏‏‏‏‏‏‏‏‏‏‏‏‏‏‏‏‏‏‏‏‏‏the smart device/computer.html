<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Display</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #2c2c2c;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .computer-screen {
            width: 800px;
            height: 480px;
            background-color: #000;
            border-radius: 15px;
            position: relative;
            border: 20px solid #1a1a1a;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .computer-screen, 
        .computer-screen > div[style*="background-image"] {
            background-size: cover !important;
            background-position: center center !important;
            background-repeat: no-repeat !important;
        }

        .computer-stand {
            width: 200px;
            height: 95px;
            background: linear-gradient(to bottom, #1a1a1a, #333);
            margin: 0 auto;
            border-radius: 0 0 50% 50%;
        }

        .lamp-emoji {
            position: absolute;
            top: 20px;
            right: 100px;
            font-size: 24px;
            transform: rotate(180deg);
            cursor: pointer;
            z-index: 9999;
        }

        .light-effect {
            position: absolute;
            top: 45px;
            right: 120px;
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-top: 200px solid rgba(255, 255, 150, 0.2);
            transform-origin: top;
            transform: translate(50%, 0);
            z-index: 9998;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .light-effect.active {
            opacity: 1;
        }

        .light-options {
            position: absolute;
            top: 70px;
            right: 120px;
            transform: translate(50%, 0);
            z-index: 9999;
            display: none;
            flex-direction: column;
            gap: 15px;
        }

        .light-option {
            background: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s ease;
            text-align: center;
            min-width: 120px;
            color: white;
            font-weight: bold;
        }

        .light-option:hover {
            transform: scale(1.05);
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }

        .light-options.active {
            display: flex;
        }

        /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ§Ù„ØµØºÙŠØ±Ø© */
        @media screen and (max-width: 900px) {
            .computer-screen {
                width: 600px;
                height: 360px;
                border-width: 15px;
            }
            
            .computer-stand {
                width: 150px;
                height: 75px;
            }
        }

        /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (Ø§Ù„Ù‡ÙˆØ§ØªÙ) */
        @media screen and (max-width: 640px) {
            .container {
                padding: 20px;
            }
            
            .computer-screen {
                width: 90vw; /* 90% Ù…Ù† Ø¹ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ù„Ø´Ø§Ø´Ø© */
                height: 54vw; /* Ù†Ø³Ø¨Ø© 16:9 ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ */
                border-width: 12px;
            }
            
            .computer-stand {
                width: 30vw;
                height: 15vw;
            }

            /* ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¶Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
            .lamp-emoji {
                top: 20px;
                right: auto;
                left: 50%;
                transform: translateX(-50%) rotate(180deg);
                font-size: 28px;
            }

            .light-effect {
                top: 45px;
                right: auto;
                left: 50%;
                transform: translateX(-50%);
                border-left: 80px solid transparent;
                border-right: 80px solid transparent;
                border-top: 160px solid rgba(255, 255, 150, 0.25);
            }

            .light-options {
                top: 60px;
                right: auto;
                left: 50%;
                transform: translateX(-50%);
                width: 200px;
                align-items: center;
                gap: 10px;
            }

            .light-option {
                width: 100%;
                text-align: center;
                background: none;
                color: white;
                font-weight: bold;
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
                padding: 10px 20px;
            }
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .computer {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ§Øª */
        .wallpaper-app {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .wallpaper-icon {
            font-size: 24px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 50%;
            transition: transform 0.3s ease, background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wallpaper-icon:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        .wallpaper-panel {
            position: absolute;
            top: 50px;
            left: 0;
            width: 350px;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 15px;
            padding: 20px;
            display: none;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transform: translateY(-10px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .wallpaper-panel.active {
            display: block;
            transform: translateY(0);
            opacity: 1;
        }

        .wallpaper-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            color: white;
        }

        .close-panel {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }

        .wallpaper-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .wallpaper-item {
            position: relative;
            aspect-ratio: 16/9;
            cursor: pointer;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .wallpaper-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .wallpaper-item:hover {
            transform: translateY(-5px);
        }

        .wallpaper-item:hover img {
            transform: scale(1.1);
        }

        .wallpaper-item span {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 15px 10px 10px;
            font-size: 12px;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .wallpaper-item:hover span {
            transform: translateY(0);
        }

        /* ØªØ®ØµÙŠØµ scrollbar Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø®Ù„ÙÙŠØ§Øª */
        .wallpaper-grid::-webkit-scrollbar {
            width: 5px;
        }

        .wallpaper-grid::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }

        .wallpaper-grid::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø´Ø±ÙŠØ· Ù„Ù…Ù‡Ø§Ù… */
        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
        }

        .start-menu-button {
            width: 40px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .start-menu-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .taskbar-apps {
            display: flex;
            margin-left: 10px;
            gap: 5px;
            flex: 1;
        }

        .taskbar-app {
            width: 35px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
            font-size: 1.2em;
        }

        .taskbar-app:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .taskbar-app.active {
            background: rgba(255, 255, 255, 0.2);
            border-bottom: 2px solid white;
        }

        .taskbar-right {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-left: auto;
        }

        .taskbar-time {
            color: white;
            font-size: 0.9em;
            padding: 0 10px;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª */
        [title] {
            position: relative;
        }

        [title]:hover::after {
            display: none !important; /* Ø¥ÙŠÙ‚Ø§Ù Ø¸Ù‡ÙˆØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª */
        }

        /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª Ù…Ù† Ø£ÙŠÙ‚ÙˆÙ†Ø© ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© */
        .wallpaper-icon[title]:hover::after {
            display: none !important;
        }

        /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª Ù…Ù† Ù†Ø§ØµØ± Ù„ÙˆØ­Ø© Ø§Ù„Ø®Ù„ÙÙŠØ§Øª */
        .wallpaper-item[title]:hover::after {
            display: none !important;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media screen and (max-width: 640px) {
            .taskbar {
                height: 35px;
            }
            
            .taskbar-app {
                width: 30px;
                height: 25px;
                font-size: 1em;
            }
            
            .taskbar-time {
                font-size: 0.8em;
            }
        }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø¸Ù‡ÙˆØ± Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª */
        .taskbar-app[title]:hover::after {
            display: none; /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙ„Ù…ÙŠØ­ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± */
        }

        .taskbar-app.active[title]:hover::after {
            display: none; /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙ„Ù…ÙŠØ­ Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø®Ø±Ù‰ */
        [title]:not(.taskbar-app):hover::after {
            content: attr(title);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            font-size: 12px;
            border-radius: 4px;
            white-space: nowrap;
            pointer-events: none;
            margin-bottom: 5px;
        }

        /* Update these window styles */
        .window {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            display: none;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .window.active {
            display: block;
        }

        .window.maximized {
            width: 100% !important;
            height: calc(100% - 40px) !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            border-radius: 0;
        }

        .window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .window-title {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .window-controls {
            display: flex;
            gap: 5px;
        }

        .window-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .window-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .window-content {
            padding: 20px;
            height: calc(100% - 50px);
            overflow-y: auto;
            color: white;
        }

        .settings-section {
            margin-bottom: 20px;
        }

        .settings-section h3 {
            margin-bottom: 10px;
            color: #fff;
        }

        .settings-item {
            margin: 10px 0;
        }

        .settings-item label {
            display: block;
            margin-bottom: 5px;
            color: #ccc;
        }

        .settings-item input[type="range"] {
            width: 100%;
            margin: 8px 0;
        }

        :root {
            --app-size: 1;
        }

        .taskbar-app {
            transform: scale(var(--app-size));
            transition: transform 0.3s ease;
        }

        .setting-value {
            display: inline-block;
            margin-left: 10px;
            color: #999;
            font-size: 0.9em;
            min-width: 45px;
        }

        .settings-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .settings-item label {
            display: block;
            margin-bottom: 8px;
            color: #ccc;
        }

        .settings-item input[type="range"] {
            flex: 1;
            margin: 0 10px;
        }

        /* Improve range input styling */
        input[type="range"] {
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            height: 5px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        /* Target only desktop app icons, not taskbar */
        .home-screen-grid .app-icon {
            transform: scale(var(--app-size));
            transition: transform 0.3s ease;
        }

        /* Make sure taskbar apps aren't affected */
        .taskbar-app {
            transform: none !important; /* Override any scaling */
        }

        /* Add styles for the app icons container to handle overflow */
        .home-screen-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 400px;
            margin: 0 auto;
            overflow: visible; /* Allow scaled items to overflow */
        }

        :root {
            --desktop-icon-size: 1;
        }

        /* Target only desktop app icons */
        .wallpaper-icon,
        .wallpaper-item {
            transform: scale(var(--desktop-icon-size));
            transition: transform 0.3s ease;
        }

        /* Make sure taskbar apps keep their original size */
        .taskbar-app {
            transform: none !important;
        }

        .note {
            background: #1a1a1a;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .note-title {
            font-weight: bold;
            font-size: 1.1em;
        }

        .note-actions button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            font-size: 0.9em;
        }

        .note-content {
            color: #ccc;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .note-editor {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .note-title-input,
        .note-content-input {
            background: #2a2a2a;
            border: none;
            padding: 8px;
            color: white;
            border-radius: 4px;
        }

        .note-content-input {
            min-height: 100px;
            resize: vertical;
        }

        .save-note {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
        }

        .save-note:hover {
            background: #45a049;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„Ù†Ø§ÙØ°Ø© */
        .window {
            position: absolute;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            display: none;
            z-index: 1000;
        }

        .window.active {
            display: block;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†Ø§ÙØ°Ø© */
        .window-content {
            height: calc(100% - 50px); /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù†Ø§Ù‚Øµ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù‡ÙŠØ¯Ø± */
            overflow-y: auto;
            padding: 15px;
            position: relative;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ù‚Ø§Ø¦Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        .notes-list {
            max-height: calc(100% - 60px); /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù†Ø§Ù‚Øµ Ø§Ø±ØªÙØ§Ø¹ Ø±Ø£Ø³ Ø§Ù„Ù‚Ø³Ù… */
            overflow-y: auto;
            padding-right: 5px;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± scrollbar */
        .notes-list::-webkit-scrollbar {
            width: 6px;
        }

        .notes-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .notes-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }

        .notes-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        .note {
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            transition: transform 0.2s ease;
            max-width: 100%;
            word-wrap: break-word;
        }

        .note:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.15);
        }

        /* ØªØ­Ø³ÙŠÙ† Ø±Ø£Ø³ Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .notes-header h3 {
            color: white;
            font-size: 16px;
            font-weight: 500;
            margin: 0;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø© */
        .add-note {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .add-note:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .add-icon {
            font-size: 16px;
            font-weight: bold;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© */
        .note {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            transition: all 0.2s ease;
            max-width: 100%;
            overflow-wrap: break-word;
        }

        .note:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .note-title {
            color: white;
            font-weight: 500;
        }

        .note-actions {
            display: flex;
            gap: 8px;
        }

        .note-actions button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.2s ease;
        }

        .note-actions button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .note-content {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
            max-width: 100%;
            overflow-wrap: break-word;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .window-content::-webkit-scrollbar {
            width: 8px;
        }

        .window-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .window-content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .window-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ØªØ­Ø³ÙŠÙ† Ù†Ù…Ø· Ø§Ù„ØªØ­Ø±ÙŠØ± */
        .note-editor {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 100%;
            overflow-y: auto;
        }

        .note-title-input,
        .note-content-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            color: white;
            font-size: 14px;
            max-height: calc(100% - 100px);
            overflow-y: auto;
        }

        .note-content-input {
            min-height: 120px;
            resize: vertical;
        }

        .save-note {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .save-note:hover {
            background: #45a049;
            transform: translateY(-1px);
        }

        /* ØªØ­Ø³ÙŠÙ† Ø¸Ù‡ÙˆØ± Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ */
        @media screen and (max-width: 640px) {
            .window-controls {
                display: flex;
                gap: 8px;
                position: relative;
                z-index: 1001; /* ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªØ¸Ù‡Ø± ÙÙˆÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
            }

            .window-button {
                width: 24px; /* Ø²ÙŠØ§Ø¯Ø© Ø­Ø¬Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ù„Ù…Ø³ Ø¨Ø³Ù‡ÙˆÙ„Ø© */
                height: 24px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 16px;
                cursor: pointer;
                border: none;
            }

            .window-button.close {
                background: rgba(255, 0, 0, 0.2);
            }

            .window-button.close:hover {
                background: rgba(255, 0, 0, 0.4);
            }

            .window-header {
                padding: 12px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                background: rgba(0, 0, 0, 0.8);
                border-radius: 8px 8px 0 0;
            }

            .window-title {
                font-size: 14px;
                font-weight: bold;
                color: white;
                flex: 1;
                margin-right: 10px;
            }
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
        @media screen and (max-width: 320px) {
            .window-button {
                width: 28px; /* Ø²ÙŠØ§Ø¯Ø© Ø­Ø¬Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£ÙƒØ«Ø± Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
                height: 28px;
                font-size: 18px;
            }

            .window-header {
                padding: 10px;
            }
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        .mobile-header {
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            background: rgba(0, 0, 0, 0.8);
            border-radius: 8px 8px 0 0;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1002;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        .window {
            position: absolute;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            display: none;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .window.active {
            display: block;
        }

        .window.notes-window {
            width: 80%; /* Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø© */
            max-width: 600px; /* Ø£Ù‚ØµÙ‰ Ø¹Ø±Ø¶ */
            height: 70vh; /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© */
            max-height: 800px; /* Ø£Ù‚ØµÙ‰ Ø§Ø±ØªÙØ§Ø¹ */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* ØªØ®ØµÙŠØµ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media screen and (max-width: 640px) {
            .window.notes-window {
                width: 90% !important;
                height: 80vh !important;
                max-height: none;
                top: 50% !important;
                left: 50% !important;
                transform: translate(-50%, -50%) !important;
                border-radius: 12px;
                position: fixed;
            }

            .mobile-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                background: rgba(0, 0, 0, 0.8);
                border-radius: 12px 12px 0 0;
            }

            .window-content {
                height: calc(100% - 60px);
                overflow-y: auto;
            }

            .notes-section {
                padding: 15px;
            }
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
        @media screen and (max-width: 320px) {
            .window.notes-window {
                width: 95% !important;
            }
        }

        /* Add inside the existing <style> tag */

        .browser-window {
            width: 80%;
            max-width: 800px;
            height: 70vh;
            max-height: 800px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }

        .browser-window .window-content {
            height: calc(100% - 40px);
            padding: 0;
            overflow: hidden;
        }

        .browser-window #browserFrame {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        /* Maximized state */
        .browser-window.maximized {
            width: 100% !important;
            height: 100% !important;
            max-width: 100% !important;
            max-height: 100% !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            border-radius: 0 !important;
        }

        /* Mobile responsiveness */
        @media screen and (max-width: 640px) {
            .browser-window {
                width: 90%;
            }
        }

        /* Add inside the existing <style> tag */

        .browser-toolbar {
            display: flex;
            gap: 10px;
            padding: 8px;
            background: #1a1a1a;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .browser-controls {
            display: flex;
            gap: 5px;
        }

        .nav-button {
            background: none;
            border: none;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .address-bar {
            flex: 1;
            margin: 0 10px;
        }

        .url-input {
            width: 100%;
            height: 28px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 14px;
            color: white;
            padding: 0 15px;
            font-size: 14px;
        }

        .url-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        .browser-window .window-content {
            height: calc(100% - 40px);
            display: flex;
            flex-direction: column;
        }

        #browserFrame {
            flex: 1;
            width: 100%;
            border: none;
        }

        .settings-window {
            min-width: 400px;
            min-height: 300px;
        }

        /* Add these styles in the <style> section */
        .files-window {
            width: 500px;
            height: 400px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .files-toolbar {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .files-toolbar button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .files-toolbar button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .files-list {
            padding: 10px;
            overflow-y: auto;
            height: calc(100% - 60px);
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .file-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .file-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        .file-name {
            color: white;
            flex-grow: 1;
        }

        .file-actions {
            opacity: 0;
            transition: opacity 0.2s;
        }

        .file-item:hover .file-actions {
            opacity: 1;
        }

        .file-actions button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 4px;
            font-size: 0.9em;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .file-actions button:hover {
            opacity: 1;
        }

        .delete-file {
            color: #ff4444;
        }

        /* System notification styles */
        .system-notification {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            color: white;
            z-index: 2000;
            min-width: 300px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .notification-icon {
            font-size: 24px;
        }

        .folder-name-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 12px;
            border-radius: 5px;
            color: white;
            outline: none;
        }

        .folder-name-input:focus {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .notification-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .notification-buttons button {
            padding: 6px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: background 0.2s;
        }

        .notification-buttons button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .notification-buttons .confirm-btn {
            background: #4CAF50;
        }

        .notification-buttons .confirm-btn:hover {
            background: #45a049;
        }

        /* System message styles */
        .system-message {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 2001;
            transition: opacity 0.3s;
            /* Add these properties to ensure it stays within the computer screen */
            max-width: 80%;
            word-wrap: break-word;
        }

        .system-message.fade-out {
            opacity: 0;
        }

        /* Add these styles inside the existing <style> tag */
        .file-actions {
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .file-item:hover .file-actions {
            opacity: 1;
        }

        .file-actions button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .file-actions button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .rename-file {
            color: #4CAF50;
        }

        .delete-file {
            color: #ff4444;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .file-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .file-icon {
            margin-right: 10px;
        }

        .file-name {
            flex-grow: 1;
            color: white;
        }

        /* Start Menu Styles */
        .start-menu {
            position: absolute;
            bottom: 40px; /* Height of taskbar */
            left: 0;
            width: 400px;
            height: 500px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform-origin: bottom left;
            transform: scale(0);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow: hidden;
        }

        .start-menu.active {
            transform: scale(1);
            opacity: 1;
        }

        .start-menu-search {
            position: relative;
            width: 100%;
        }

        .start-menu-search input {
            width: 100%;
            padding: 10px 15px;
            padding-left: 35px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 14px;
        }

        .start-menu-search::before {
            content: 'ğŸ”';
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
        }

        .start-menu-apps {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            padding: 10px;
        }

        .start-menu-app {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            text-align: center;
        }

        .start-menu-app:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .start-menu-app-icon {
            font-size: 24px;
        }

        .start-menu-app-name {
            font-size: 12px;
            margin-top: 5px;
        }

        .start-menu-recent {
            padding: 10px;
        }

        .start-menu-recent h3 {
            color: white;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .recent-apps {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .recent-app {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s ease;
            color: white;
        }

        .recent-app:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .recent-app-icon {
            font-size: 16px;
            margin-right: 5px;
        }

        /* Calendar Window Styles */
        .calendar-window {
            width: 600px;
            height: 500px;
        }

        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .calendar-controls button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .calendar-controls button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .current-month {
            color: white;
            font-size: 1.2em;
            margin: 0;
        }

        .calendar-grid {
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            color: #888;
            font-size: 0.9em;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            padding: 10px 0;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .calendar-day:hover:not(.empty) {
            background: rgba(255, 255, 255, 0.1);
        }

        .calendar-day.empty {
            cursor: default;
        }

        .calendar-day.today {
            background: #4CAF50;
            font-weight: bold;
        }

        .calendar-events {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .calendar-events h3 {
            color: white;
            margin: 0 0 10px 0;
        }

        .add-event {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .add-event:hover {
            background: #45a049;
        }

        /* Responsive adjustments */
        @media screen and (max-width: 640px) {
            .calendar-window {
                width: 90%;
                height: 80vh;
            }
            
            .calendar-day {
                font-size: 0.9em;
            }
        }

        /* Calculator Styles */
        .calculator-window {
            width: 300px;
            height: 400px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            padding: 20px;
            color: white;
        }

        .calculator {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .calc-display {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 5px;
            padding: 10px;
            text-align: right;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
        }

        .calc-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5px;
            padding: 15px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .calc-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .calc-btn.function {
            background: rgba(255, 255, 255, 0.3);
        }

        .calc-btn.operator {
            background: rgba(255, 255, 255, 0.4);
        }

        .calc-btn.number {
            background: rgba(255, 255, 255, 0.5);
        }

        .calc-btn.zero {
            grid-column: span 2;
            width: 100%;
        }

        /* Games Styles */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
        }

        .game-choice {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .game-choice:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .game-icon {
            font-size: 24px;
        }

        .game-name {
            font-size: 12px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lamp-emoji">ğŸ’¡</div>
        <div class="computer">
            <div class="computer-screen">
                <div class="wallpaper-app">
                    <div class="wallpaper-icon" title="Change Wallpaper">ğŸ¨</div>
                    <div class="wallpaper-panel">
                        <div class="wallpaper-header">
                            <span>Wallpapers</span>
                            <button class="close-panel">Ã—</button>
                        </div>
                        <div class="wallpaper-grid">
                            <!-- Will be filled dynamically -->
                        </div>
                    </div>
                </div>

                <!-- Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù… -->
                <div class="taskbar">
                    <div class="start-menu-button">
                        <span>ğŸªŸ</span>
                    </div>
                    <div class="taskbar-apps">
                        <div class="taskbar-app" title="Browser">ğŸŒ</div>
                        <div class="taskbar-app" title="Files">ğŸ“</div>
                        <div class="taskbar-app" title="Notes">ğŸ“</div>
                        <div class="taskbar-app" title="Settings">âš™ï¸</div>
                    </div>
                    <div class="taskbar-right">
                        <div class="taskbar-time"></div>
                    </div>
                </div>
            </div>
            <div class="computer-stand"></div>
        </div>
    </div>

    <script>
        let isLightOn = false;
        let lightEffect = null;
        let lightOptions = null;

        document.querySelector('.lamp-emoji').addEventListener('click', function() {
            if (!isLightOn) {
                if (!lightEffect) {
                    lightEffect = document.createElement('div');
                    lightEffect.className = 'light-effect';
                    document.querySelector('.container').appendChild(lightEffect);
                    
                    lightOptions = document.createElement('div');
                    lightOptions.className = 'light-options';
                    lightOptions.innerHTML = `
                        <div class="light-option" data-option="smart-watch">Smart Watch</div>
                        <div class="light-option" data-option="computer">Computer</div>
                    `;
                    document.querySelector('.container').appendChild(lightOptions);
                    
                    lightOptions.querySelectorAll('.light-option').forEach(option => {
                        option.addEventListener('click', function() {
                            const selectedOption = this.dataset.option;
                            if (selectedOption === 'smart-watch') {
                                window.location.href = 'index.html';
                            } else if (selectedOption === 'computer') {
                                window.location.href = 'computer.html';
                            }
                        });
                    });

                    setTimeout(() => {
                        lightEffect.classList.add('active');
                    }, 10);

                    setTimeout(() => {
                        lightOptions.classList.add('active');
                    }, 500);
                }
            } else {
                if (lightEffect) {
                    lightEffect.classList.remove('active');
                    lightOptions.classList.remove('active');
                    setTimeout(() => {
                        lightEffect.remove();
                        lightOptions.remove();
                        lightEffect = null;
                        lightOptions = null;
                    }, 300);
                }
            }
            isLightOn = !isLightOn;
        });

        // Ø¥Ø¶Ø§ï¿½ï¿½Ø© Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
        const wallpapers = [
            { 
                name: 'Northern Lights Mountains',
                url: 'https://images.unsplash.com/photo-1579033461380-adb47c3eb938?w=1920&q=100'
            },
            {
                name: 'Blue Galaxy',
                url: 'https://images.unsplash.com/photo-1539721972319-f0e80a00d424?w=1920&q=100'
            },
            {
                name: 'Misty Forest',
                url: 'https://images.unsplash.com/photo-1511497584788-876760111969?w=1920&q=100'
            },
            {
                name: 'Blue Waterfall',
                url: 'https://images.unsplash.com/photo-1495012379376-194a416fcc5f?w=1920&q=100'
            },
            {
                name: 'Night Sky',
                url: 'https://images.unsplash.com/photo-1475274047050-1d0c0975c63e?w=1920&q=100'
            },
            {
                name: 'City Night',
                url: 'https://images.unsplash.com/photo-1470770841072-f978cf4d019e?w=1920&q=100'
            },
            {
                name: 'Golden Desert',
                url: 'https://images.unsplash.com/photo-1509316785289-025f5b846b35?w=1920&q=100'
            },
            {
                name: 'Crystal Lake',
                url: 'https://images.unsplash.com/photo-1439853949127-fa647821eba0?w=1920&q=100'
            },
            {
                name: 'Calm Waves',
                url: 'https://images.unsplash.com/photo-1551316679-9c6ae9dec224?w=1920&q=100'
            },
            {
                name: 'Mountain Peak',
                url: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1920&q=100'
            },
            {
                name: 'Pink Clouds',
                url: 'https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?w=1920&q=100'
            },
            {
                name: 'Tropical Beach',
                url: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1920&q=100'
            },
            {
                name: 'Aurora Borealis',
                url: 'https://images.unsplash.com/photo-1483347756197-71ef80e95f73?w=1920&q=100'
            },
            {
                name: 'Milky Way',
                url: 'https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=1920&q=100'
            },
            {
                name: 'Cherry Garden',
                url: 'https://images.unsplash.com/photo-1522383225653-ed111181a951?w=1920&q=100'
            },
            {
                name: 'Colorful Sunset',
                url: 'https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=1920&q=100'
            }
        ];

        // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ø¹ ØªØ£Ø«ÙŠØ±Øª Ø­Ø±ÙƒÙŠØ©
        function changeWallpaper(url) {
            const screen = document.querySelector('.computer-screen');
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ÙŠ
            const transition = document.createElement('div');
            transition.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, transparent 100%);
                transform: scale(0);
                opacity: 0;
                transition: transform 0.8s ease-out, opacity 0.8s ease-out;
                z-index: 1000;
            `;
            screen.appendChild(transition);

            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            const newBackground = document.createElement('div');
            newBackground.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-image: url(${url});
                background-size: cover !important;
                background-position: center center !important;
                background-repeat: no-repeat !important;
                opacity: 0;
                transition: opacity 0.8s ease-out;
                z-index: -1;
            `;
            screen.appendChild(newBackground);

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ ØªØ­Ù…ÙŠÙ„ Ù„ØµÙˆØ±Ø©
            const img = new Image();
            img.onload = () => {
                // Øªï¿½ï¿½Ø¹ÙŠï¿½ï¿½ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
                requestAnimationFrame(() => {
                    transition.style.transform = 'scale(2)';
                    transition.style.opacity = '1';

                    setTimeout(() => {
                        newBackground.style.opacity = '1';
                    }, 300);

                    setTimeout(() => {
                        screen.style.backgroundImage = `url(${url})`;
                        screen.style.backgroundSize = 'cover';
                        screen.style.backgroundPosition = 'center center';
                        screen.style.backgroundRepeat = 'no-repeat';
                        
                        transition.style.opacity = '0';
                        Array.from(screen.children).forEach(child => {
                            if (child !== transition && child.style.backgroundImage) {
                                child.remove();
                            }
                        });
                        
                        setTimeout(() => {
                            transition.remove();
                        }, 800);
                    }, 800);
                });
            };
            img.src = url;

            // Ø­ÙØ¸ Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù„ÙˆØ­Ø©
            localStorage.setItem('computerWallpaper', url);
            document.querySelector('.wallpaper-panel').classList.remove('active');

            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± ØµÙˆØªÙŠ Ø®ÙÙŠÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBkCU1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTqO0/HPgDMGHm7A7+OZSA0PVqzn77BdGAhBmt7yw3AnBDSJ0PHThDgHGGS57OihUxAKTKXi8bllHgY8ktXxz4I2Bhxsvu7mnEoODlOq5O+yYBoGPZjc8sZ0KgQuhc7x1og6CBZiturqpVYSDUmj4PK8aCAEOI/U8dGENQYaa77u55xLDgxRqeTwtWIbBTmW2/LJdiwEKoPM8duLPQgUYLXq7KdYEwpGot/yvmwhBDaO0/HUhTcHGGq+7eqfTQ8KUKjj8LhmHQU2lNryzHgvBSeByvDckEAJEl616+yrWxQIQ5/e8sFuJAQ0jdLw14g6CBVpvO3soVEQCE2n4vC6aiADNZLY8c97MgYfgMnw35JDChBcs+vtrl4WBkCd3fLDcSYDMYvR8NqLPQgTZ7rs7KRTEgZKpeDxvW0jAzOQ1/DTfjQGHX7H7+GURgsOWrLq77FgGAQ+m9zyxXQpAy6JzvDcjkAJEGS46+6oVxMGR6Pe8cBwJgIxjdXw1oE3Bhx8xu/jl0gMDFew6fCzYxkCPJnb8sd3LAIrhczw35FBCQ5ituvvq1oVBESh3vHDcygCL4vU8NiDOQYaecXu5ZpKDQpVr+jxtGUaAjqX2vLKei4CKH/L8OGTQwkMYLTq8K5cFgJBoN3xyHUqAi2J0vDahDsHGHbD7uedTQ0IU67n8bZnHAI4ltnyzXwwAyZ9yfDklEYKCl6y6vGyXxcBPp7c8sp4LAIqh9Dw3Yc+CBZ1wu3poE8OBlGt5/G4aR0CNpTY8tB+MwMkfMjw5pZICQhcserys2EYATyd2/LMei4CJ4XP8N+JQAgUc8Ht66JREAZPrObxuWseATWS1/LSgTUDIn3H7+iYSgoHWrDp87VjGgE6m9ryzXwwAiWDzvDgiUEJEnHA7e2kUxEFTavl8bxsIAEzktbx1II3AyB6xu/qmkwLBlix6PO3ZRsBOJna8s9+MgIjgs3w4otDCRBwv+3vpVUSBEqq5PG+biIBMZDV8dWEOQMeesbv7JxODAVWr+fzuWccATaY2fLRgDQCIYDM8OSNRQoPbr7s8KdXEwNIqePxwHAkAS+P1PHXhjoEHHnF7+2eUAwEVK7n87tpHgE0l9jy04I2Ah9+y/DmkEcKDWy87PCpWRQCRqji8cJyJgEtjdPx2Yg8BBp3xO/voFIMAlOt5/O9ax8BMpXY8tWENwIdfcrw6JJICgtruu3yq1sVAUSm4vHEdCcBK4vS8duKPgQYdsPu8aJUDQFRrObzvm0gATCU1/LXhjkCHHvJ8OqUSwoJabnt86xdFgFCpOHxxXYpASqK0fHdi0AEFnXC7vOkVg0AT6vl88BvIgEuk9by2Yg7Ahp6yPDslU0LB2i47fSuXxcBQKPg8cd4KwEoiNDx34xCBRR0we70plgOAE2q5PPCcSQBLJHV8tuKPQIYeMfw7pdPDAVnt+30sGEYAD6i3/HJei0BJofP8eGORQUScsDu9ahZDwBLqePzxHMlASqQ1PLdi0ACFnfG8O+ZUQ0DZrbs9bJjGQA8oN7xzHwvASSFzvHjkEcGEHG/7vajXBAAaK3m8r9wJAEoj9Py34w/AxR1xe7wpFQNAWS16/W0ZRoAOp/d8c5+MQEihM3x5ZJJBg5vvu74pV4RAGas5vLBciYBJo7S8uGOQQMSdMTu8qZWDgFjtOv1tmcbADie3PHQgDMBIILM8eeUSwYMbb3u+adfEgBkq+XywnQnASWN0fLjkEIDEHLD7vSnWA4AYbPq9bhoHAA3ntvx0oI0AR6By/HolkwHCmy87vqpYRIAYqrl8sR2KQEjjNDy5ZJEAxBxwu72qVoPAGCy6vW6ah0ANp3a8dSDNgEcgMrx6phOBwhqu+77q2MSAGCp5PLGeCsBIYrP8ueURQMOcMHu96tbEABesOn1vGwfADSc2fHWhTgBGn/J8eyaUAcGabru/K1lEwBeqOPyyXouAR+JzvLplkcDD2+/7fmtXRAAXK/o9b5tIAAynNjx2Ic5ARh9yPHum1IIBGi57v2vZxQAXKfi8st8MAEdiM3y65lJBA1tvuz6r18RAFqu5/XAbyIAMJvX8dqJOwEXfMfx8J1UCQNmt+39sWkVAFqm4vLNfjIBG4fM8u2bSwQMarzs+7FhEgBYreX1wXEkAC6Z1vHciz0BFXrF8fKfVgkBZbbs/bNqFgBYpeHyz4A0ARqGy/LvnU0ECmm77vy0YxMAVqzk9cNzJgAsmNXx3o0/ARN5xPHzoVgKAGO16/21bBcAVqTg8tGCNgEYhMry8Z9PBAhnum39tWUUAFSq4/XEdygAKpfU8eCPQQERd8Px9aNaCgBhs+r9t24YAFSj3/LSgzgBFoPI8vOhUQUGZ7jt/rdnFQBSqeL1xnkqACiV0/HikUMBD3bC8fejXAoAYLLp/bluGQBSot7y1IU6ARSDx/L1o1MGBGa37v+5aRYAUKjh9ch7LAAmldLx5JNFAg11wfD5pV4LAF6x6P67cBsAUKHd8taHPAESgsby96VVBgJltu3/u2sYAE6n4PXKfS4AJJTÑ€8eaVRwINdMDw+6dfCwBdr+f+vXIdAE6g3PLYiT4BEIDFvwAAAAA=');
            audio.volume = 0.2;
            audio.play().catch(() => {}); // ØªØ¬Ø§Ù‡Ù„ Ø£ÙŠ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø®Ù„ÙÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        function setRandomWallpaper() {
            const randomIndex = Math.floor(Math.random() * wallpapers.length);
            const randomWallpaper = wallpapers[randomIndex];
            changeWallpaper(randomWallpaper.url);
        }

        // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„ï¿½ï¿½ ØªÙ‡ÙŠØ¦Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ø®Ù„ÙÙŠØ§Øª
        function initWallpaperPanel() {
            const wallpaperGrid = document.querySelector('.wallpaper-grid');
            wallpaperGrid.innerHTML = '';
            
            // ØªØ¹ÙŠÙŠÙ† Ø®Ù„ÙÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
            setRandomWallpaper(); // ØªØ¹ÙŠÙŠÙ† Ø®Ù„ÙÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ù…Ø¹ ØªØ£Ø®ÙŠØ± Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¬
            wallpapers.forEach((wallpaper, index) => {
                setTimeout(() => {
                    const wallpaperItem = document.createElement('div');
                    wallpaperItem.className = 'wallpaper-item';
                    wallpaperItem.style.opacity = '0';
                    wallpaperItem.style.transform = 'translateY(20px)';
                    wallpaperItem.innerHTML = `
                        <img src="${wallpaper.url}" alt="${wallpaper.name}">
                        <span>${wallpaper.name}</span>
                    `;
                    wallpaperItem.addEventListener('click', () => changeWallpaper(wallpaper.url));
                    wallpaperGrid.appendChild(wallpaperItem);
                    
                    // Øªï¿½ï¿½Ø«ÙŠØ± Ø§Ù„Ø¸Ù‡ÙˆØ± Ø§Ù„ØªØ¯Ø±ÙŠØ¬ÙŠ
                    requestAnimationFrame(() => {
                        wallpaperItem.style.transition = 'all 0.3s ease';
                        wallpaperItem.style.opacity = '1';
                        wallpaperItem.style.transform = 'translateY(0)';
                    });
                }, index * 50);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙ…Ø¹ Ø­Ø¯Ø« ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            initWallpaperPanel();
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            document.querySelector('.wallpaper-icon').addEventListener('click', (e) => {
                e.stopPropagation();
                document.querySelector('.wallpaper-panel').classList.toggle('active');
            });

            document.querySelector('.close-panel').addEventListener('click', (e) => {
                e.stopPropagation();
                document.querySelector('.wallpaper-panel').classList.remove('active');
            });

            // Ø¥ØºÙ„Ø§Ù‚ Ø§ï¿½ï¿½Ù„ÙˆØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            document.addEventListener('click', (e) => {
                const panel = document.querySelector('.wallpaper-panel');
                const icon = document.querySelector('.wallpaper-icon');
                if (!panel.contains(e.target) && !icon.contains(e.target)) {
                    panel.classList.remove('active');
                }
            });
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù…
        function updateTaskbarTime() {
            const timeElement = document.querySelector('.taskbar-time');
            const now = new Date();
            
            // Convert to 12-hour format with AM/PM
            let hours = now.getHours();
            const minutes = now.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            // Convert hours to 12-hour format
            hours = hours % 12;
            hours = hours ? hours : 12; // Convert 0 to 12
            
            // Add leading zeros to minutes if needed
            const minutesStr = minutes < 10 ? '0' + minutes : minutes;
            
            // Update the time display
            timeElement.textContent = `${hours}:${minutesStr} ${ampm}`;
        }

        // Make sure the time updates every second
        setInterval(updateTaskbarTime, 1000);

        // ØªÙØ¹ÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù…
        function initTaskbar() {
            // ØªØ­Ø¯ï¿½ï¿½Ø« Ø§Ù„ÙˆÙ‚Øª ÙƒÙ„ Ø¯Ù‚ï¿½ï¿½Ù‚Ø©
            updateTaskbarTime();
            setInterval(updateTaskbarTime, 60000);

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
            const taskbarApps = document.querySelectorAll('.taskbar-app');
            taskbarApps.forEach(app => {
                app.addEventListener('click', function() {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
                    taskbarApps.forEach(a => a.classList.remove('active'));
                    // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø­Ø¯Ø¯
                    this.classList.add('active');
                    
                    // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¶Ø§ÙÙŠØ© Ù‡Ù†Ø§ Ù„ÙƒÙ„ ØªØ·Ø¨ÙŠÙ‚
                    // Ù…Ø«Ø§Ù„: ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
                });
            });

            // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ø¯Ø£
            const startButton = document.querySelector('.start-menu-button');
            startButton.addEventListener('click', function() {
                const existingMenu = document.querySelector('.start-menu');
                if (existingMenu) {
                    existingMenu.classList.toggle('active');
                    this.classList.toggle('active');
                    return;
                }

                const startMenu = document.createElement('div');
                startMenu.className = 'start-menu';
                startMenu.innerHTML = `
                    <div class="start-menu-search">
                        <input type="text" placeholder="Search apps...">
                    </div>
                    <div class="start-menu-apps">
                        <div class="start-menu-app" data-app="Browser">
                            <div class="start-menu-app-icon">ğŸŒ</div>
                            <div class="start-menu-app-name">Browser</div>
                        </div>
                        <div class="start-menu-app" data-app="Files">
                            <div class="start-menu-app-icon">ğŸ“</div>
                            <div class="start-menu-app-name">Files</div>
                        </div>
                        <div class="start-menu-app" data-app="Notes">
                            <div class="start-menu-app-icon">ğŸ“</div>
                            <div class="start-menu-app-name">Notes</div>
                        </div>
                        <div class="start-menu-app" data-app="Settings">
                            <div class="start-menu-app-icon">âš™ï¸</div>
                            <div class="start-menu-app-name">Settings</div>
                        </div>
                        <div class="start-menu-app" data-app="Games">
                            <div class="start-menu-app-icon">ğŸ®</div>
                            <div class="start-menu-app-name">Games</div>
                        </div>
                        <div class="start-menu-app" data-app="Calculator">
                            <div class="start-menu-app-icon">ğŸ§®</div>
                            <div class="start-menu-app-name">Calculator</div>
                        </div>
                        <div class="start-menu-app" data-app="Calendar">
                            <div class="start-menu-app-icon">ğŸ“…</div>
                            <div class="start-menu-app-name">Calendar</div>
                        </div>
                        <div class="start-menu-app" data-app="Weather">
                            <div class="start-menu-app-icon">ğŸŒ¤ï¸</div>
                            <div class="start-menu-app-name">Weather</div>
                        </div>
                    </div>
                    <div class="start-menu-recent">
                        <h3>Recent</h3>
                        <div class="recent-apps">
                            <div class="recent-app">
                                <span class="recent-app-icon">ğŸ“</span>
                                <span>Notes</span>
                            </div>
                            <div class="recent-app">
                                <span class="recent-app-icon">ğŸŒ</span>
                                <span>Browser</span>
                            </div>
                        </div>
                    </div>
                `;

                document.querySelector('.computer-screen').appendChild(startMenu);
                
                // Add slight delay before showing the menu for smooth animation
                requestAnimationFrame(() => {
                    startMenu.classList.add('active');
                    this.classList.add('active');
                });

                // Add click handlers for apps
                startMenu.querySelectorAll('.start-menu-app').forEach(app => {
                    app.addEventListener('click', function() {
                        const appName = this.dataset.app;
                        startMenu.classList.remove('active');
                        startButton.classList.remove('active');
                        
                        // Launch the appropriate app
                        switch(appName) {
                            case 'Browser':
                                createBrowserWindow();
                                break;
                            case 'Files':
                                createFilesWindow();
                                break;
                            case 'Notes':
                                createNotesWindow();
                                break;
                            case 'Settings':
                                createSettingsWindow();
                                break;
                            case 'Calendar':
                                createCalendarWindow();
                                break;
                            case 'Calculator':
                                createCalculatorWindow();
                                break;
                            case 'Games':
                                createGamesWindow();
                                break;
                            // Add more cases for other apps
                        }
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!startMenu.contains(e.target) && !startButton.contains(e.target)) {
                        startMenu.classList.remove('active');
                        startButton.classList.remove('active');
                    }
                });

                // Add search functionality
                const searchInput = startMenu.querySelector('input');
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    startMenu.querySelectorAll('.start-menu-app').forEach(app => {
                        const appName = app.dataset.app.toLowerCase();
                        app.style.display = appName.includes(searchTerm) ? 'flex' : 'none';
                    });
                });
            });
        }

        // ØªÙØ¹ÙŠÙ„ Ø´ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            initTaskbar();
        });

        // ØªØ­Ø¯ÙŠØ« HTML Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù…
        const taskbarHTML = `
        <div class="taskbar">
            <div class="start-menu-button">
                <span>ğŸªŸ</span>
            </div>
            <div class="taskbar-apps">
                <div class="taskbar-app" title="Browser">ğŸŒ</div>
                <div class="taskbar-app" title="Files">ğŸ“</div>
                <div class="taskbar-app" title="Notes">ğŸ“</div>
                <div class="taskbar-app" title="Settings">âš™ï¸</div>
            </div>
            <div class="taskbar-right">
                <div class="taskbar-time"></div>
            </div>
        </div>
        `;

        // ØªØ­Ø¯ÙŠØ« HTML Ù„ÙˆØ­Ø© Ø§Ù„Ø®Ù„ÙÙŠØ§Øª
        const wallpaperPanelHTML = `
        <div class="wallpaper-app">
            <div class="wallpaper-icon" title="Change Wallpaper">ğŸ¨</div>
            <div class="wallpaper-panel">
                <div class="wallpaper-header">
                    <span>Wallpapers</span>
                    <button class="close-panel">Ã—</button>
                </div>
                <div class="wallpaper-grid">
                    <!-- Will be filled dynamically -->
                </div>
            </div>
        </div>
        `;

        // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
        document.querySelector('.close-panel')?.setAttribute('title', 'Close');

        // ØªØ­Ø¯Ø« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
        document.title = 'Computer Display';

        // ØªØ­Ø¯ÙŠØ« Ù†ØµÙˆØµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§ï¿½ï¿½
        function showNotification(message) {
            // ØªØ­Ø¯ÙŠØ« Ø£ÙŠ Ø±Ø³Ø§Ø¦Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
            console.log(`Notification: ${message}`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø±ï¿½ï¿½Ø§Ø¦Ù„ Ø§Ø­Ø§Ù„Ø©
        function updateStatus(status) {
            // ØªØ­Ø¯ÙŠØ« Ø£ÙŠ Ø±Ø³Ø§Ø¦Ù„ Ø­Ø§Ù„Ø© ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Øªï¿½ï¿½ï¿½ï¿½Ø¨ÙŠÙ‚
            console.log(`Status: ${status}`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø£ÙŠ Ù†ØµÙˆØµ Ø£Ø®Ø±Ù‰ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', () => {
            // ØªØ­Ø¯ÙŠØ« Ø£ÙŠ Ù†ØµÙˆØµ Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            const wallpaperHeader = document.querySelector('.wallpaper-header span');
            if (wallpaperHeader) {
                wallpaperHeader.textContent = 'Wallpapers';
            }
        });

        // Add event listener for taskbar apps
        document.querySelectorAll('.taskbar-app').forEach(app => {
            app.addEventListener('click', function() {
                const appTitle = this.getAttribute('title');
                
                // Remove active class from all apps
                document.querySelectorAll('.taskbar-app').forEach(a => a.classList.remove('active'));
                
                // Add active class to clicked app
                this.classList.add('active');

                // Check if window already exists
                const existingWindow = document.querySelector(`.${appTitle.toLowerCase()}-window`);
                if (existingWindow) {
                    existingWindow.classList.add('active');
                    return;
                }

                if (appTitle === 'Settings') {
                    createSettingsWindow();
                } else if (appTitle === 'Notes') {
                    createNotesWindow();
                } else if (appTitle === 'Browser') {
                    createBrowserWindow();
                } else if (appTitle === 'Files') {
                    createFilesWindow();
                }
            });
        });

        // Update the createSettingsWindow function
        function createSettingsWindow() {
            // Remove any existing settings window
            const existingWindow = document.querySelector('.settings-window');
            if (existingWindow) {
                existingWindow.remove();
            }

            // Create the settings window
            const settingsWindow = document.createElement('div');
            settingsWindow.className = 'window settings-window active';
            settingsWindow.style.position = 'absolute';
            settingsWindow.style.top = '50%';
            settingsWindow.style.left = '50%';
            settingsWindow.style.transform = 'translate(-50%, -50%)';
            settingsWindow.style.width = '400px';  // Add default width
            settingsWindow.style.height = 'auto';  // Height will adjust to content

            settingsWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">âš™ï¸</span>
                        Settings
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="settings-section">
                        <h3>Display</h3>
                        <div class="settings-item">
                            <label for="windowBrightness">Brightness</label>
                            <input type="range" id="windowBrightness" min="0.3" max="1" step="0.1" value="1">
                            <span class="setting-value" id="brightnessValue">100%</span>
                        </div>
                    </div>
                    <div class="settings-section">
                        <h3>Desktop</h3>
                        <div class="settings-item">
                            <label for="desktopIconSize">Desktop Icons Size</label>
                            <input type="range" id="desktopIconSize" min="0.8" max="1.4" step="0.1" value="1">
                            <span class="setting-value" id="desktopIconSizeValue">100%</span>
                        </div>
                    </div>
                </div>
            `;

            // Add the window to the screen
            document.querySelector('.computer-screen').appendChild(settingsWindow);

            // Add window control buttons functionality
            settingsWindow.querySelector('.close').addEventListener('click', () => {
                settingsWindow.classList.remove('active');
                setTimeout(() => settingsWindow.remove(), 300);
                document.querySelector('.taskbar-app[title="Settings"]').classList.remove('active');
            });

            settingsWindow.querySelector('.minimize').addEventListener('click', () => {
                settingsWindow.classList.remove('active');
                document.querySelector('.taskbar-app[title="Settings"]').classList.remove('active');
            });

            // Update maximize button functionality
            settingsWindow.querySelector('.maximize').addEventListener('click', () => {
                if (settingsWindow.classList.contains('maximized')) {
                    // Restore to original size
                    settingsWindow.classList.remove('maximized');
                    settingsWindow.style.width = '400px';
                    settingsWindow.style.height = 'auto';
                    settingsWindow.style.top = '50%';
                    settingsWindow.style.left = '50%';
                    settingsWindow.style.transform = 'translate(-50%, -50%)';
                } else {
                    // Maximize
                    settingsWindow.classList.add('maximized');
                    settingsWindow.style.width = '100%';
                    settingsWindow.style.height = 'calc(100% - 40px)'; // Account for taskbar
                    settingsWindow.style.top = '0';
                    settingsWindow.style.left = '0';
                    settingsWindow.style.transform = 'none';
                }
            });

            // Make window draggable
            const header = settingsWindow.querySelector('.window-header');
            let isDragging = false;
            let currentX;
            let currentY;
            let initialX;
            let initialY;
            let xOffset = 0;
            let yOffset = 0;

            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            function dragStart(e) {
                if (!settingsWindow.classList.contains('maximized') && 
                    (e.target === header || e.target.closest('.window-header')) && 
                    !e.target.closest('.window-controls')) {
                    isDragging = true;
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                }
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    xOffset = currentX;
                    yOffset = currentY;

                    settingsWindow.style.transform = `translate(calc(-50% + ${currentX}px), calc(-50% + ${currentY}px))`;
                }
            }

            function dragEnd() {
                initialX = currentX;
                initialY = currentY;
                isDragging = false;
            }

            // Initialize sliders with saved values
            const brightnessSlider = settingsWindow.querySelector('#windowBrightness');
            const brightnessValue = settingsWindow.querySelector('#brightnessValue');
            const desktopIconSizeSlider = settingsWindow.querySelector('#desktopIconSize');
            const desktopIconSizeValue = settingsWindow.querySelector('#desktopIconSizeValue');

            // Set initial values from localStorage or defaults
            const savedBrightness = localStorage.getItem('brightness') || '1';
            const savedDesktopIconSize = localStorage.getItem('desktopIconSize') || '1';

            brightnessSlider.value = savedBrightness;
            desktopIconSizeSlider.value = savedDesktopIconSize;

            // Update initial display values
            brightnessValue.textContent = `${Math.round(savedBrightness * 100)}%`;
            desktopIconSizeValue.textContent = `${Math.round(savedDesktopIconSize * 100)}%`;

            // Apply initial values
            document.querySelector('.computer-screen').style.filter = `brightness(${savedBrightness})`;
            document.documentElement.style.setProperty('--desktop-icon-size', savedDesktopIconSize);

            // Add event listeners for settings changes
            brightnessSlider.addEventListener('input', (e) => {
                const brightness = e.target.value;
                document.querySelector('.computer-screen').style.filter = `brightness(${brightness})`;
                brightnessValue.textContent = `${Math.round(brightness * 100)}%`;
                localStorage.setItem('brightness', brightness);
            });

            desktopIconSizeSlider.addEventListener('input', (e) => {
                const size = e.target.value;
                document.documentElement.style.setProperty('--desktop-icon-size', size);
                desktopIconSizeValue.textContent = `${Math.round(size * 100)}%`;
                localStorage.setItem('desktopIconSize', size);
            });
        }

        // Add this function to apply saved settings on page load
        function applySavedSettings() {
            const savedBrightness = localStorage.getItem('brightness') || '1';
            const savedDesktopIconSize = localStorage.getItem('desktopIconSize') || '1';
            
            document.querySelector('.computer-screen').style.filter = `brightness(${savedBrightness})`;
            document.documentElement.style.setProperty('--desktop-icon-size', savedDesktopIconSize);
        }

        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', applySavedSettings);

        // Add array to store notes
        let notes = JSON.parse(localStorage.getItem('notes') || '[]');

        // Add event listeners for taskbar apps
        document.querySelectorAll('.taskbar-app').forEach(app => {
            app.addEventListener('click', function() {
                const appTitle = this.getAttribute('title');
                
                // Remove active class from all apps
                document.querySelectorAll('.taskbar-app').forEach(a => a.classList.remove('active'));
                
                // Add active class to clicked app
                this.classList.add('active');

                // Check if window already exists
                const existingWindow = document.querySelector(`.${appTitle.toLowerCase()}-window`);
                if (existingWindow) {
                    existingWindow.classList.add('active');
                    return;
                }

                if (appTitle === 'Settings') {
                    createSettingsWindow();
                } else if (appTitle === 'Notes') {
                    createNotesWindow();
                } else if (appTitle === 'Browser') {
                    createBrowserWindow();
                } else if (appTitle === 'Files') {
                    createFilesWindow();
                }
            });
        });

        function createNotesWindow() {
            const notesWindow = document.createElement('div');
            notesWindow.className = 'window notes-window active';
            
            notesWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ“</span>
                        Notes
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="notes-section">
                        <div class="notes-header">
                            <h3>My Notes</h3>
                            <button class="add-note">
                                <span class="add-icon">+</span>
                                Add Note
                            </button>
                        </div>
                        <div class="notes-list">
                            ${renderNotes()}
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(notesWindow);
            setupWindowControls(notesWindow, 'Notes');
            initializeNoteControls(notesWindow);
        }

        function initializeNoteControls(notesWindow) {
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø©
            const closeBtn = notesWindow.querySelector('.window-button.close');
            const minimizeBtn = notesWindow.querySelector('.window-button.minimize');
            const maximizeBtn = notesWindow.querySelector('.window-button.maximize');
            const addNoteBtn = notesWindow.querySelector('.add-note');

            // Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
            closeBtn.onclick = () => {
                notesWindow.classList.remove('active');
                setTimeout(() => notesWindow.remove(), 300);
                document.querySelector('.taskbar-app[title="Notes"]').classList.remove('active');
            };

            // Ø²Ø± Ø§Ù„ØªØµØºÙŠØ±
            minimizeBtn.onclick = () => {
                notesWindow.classList.remove('active');
                document.querySelector('.taskbar-app[title="Notes"]').classList.remove('active');
            };

            // Ø²Ø± Ø§Ù„ØªÙƒØ¨Ø±
            maximizeBtn.onclick = () => {
                notesWindow.classList.toggle('maximized');
            };

            // Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠï¿½ï¿½Ø©
            addNoteBtn.onclick = () => {
                const noteEditor = createNoteEditor();
                const notesList = notesWindow.querySelector('.notes-list');
                notesList.insertBefore(noteEditor, notesList.firstChild);
            };

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø£Ø­Ø¯Ø§Ø« Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
            updateNoteListeners(notesWindow);
        }

        function createNoteEditor(existingNote = null) {
            const editor = document.createElement('div');
            editor.className = 'note-editor';
            editor.innerHTML = `
                <input type="text" class="note-title-input" placeholder="Enter title" value="${existingNote?.title || ''}">
                <textarea class="note-content-input" placeholder="Enter note content">${existingNote?.content || ''}</textarea>
                <div class="editor-buttons">
                    <button class="save-note">Save</button>
                    <button class="cancel-note">Cancel</button>
                </div>
            `;

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø±
            const saveBtn = editor.querySelector('.save-note');
            const cancelBtn = editor.querySelector('.cancel-note');

            saveBtn.onclick = () => {
                const titleInput = editor.querySelector('.note-title-input');
                const contentInput = editor.querySelector('.note-content-input');
                
                if (titleInput.value.trim() && contentInput.value.trim()) {
                    const noteData = {
                        id: existingNote?.id || Date.now(),
                        title: titleInput.value.trim(),
                        content: contentInput.value.trim(),
                        date: new Date().toLocaleString()
                    };

                    if (existingNote) {
                        const index = notes.findIndex(note => note.id === existingNote.id);
                        if (index !== -1) {
                            notes[index] = noteData;
                        }
                    } else {
                        notes.unshift(noteData);
                    }

                    localStorage.setItem('notes', JSON.stringify(notes));
                    refreshNotesList(editor.closest('.notes-window'));
                }
            };

            cancelBtn.onclick = () => {
                editor.remove();
            };

            return editor;
        }

        function updateNoteListeners(notesWindow) {
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            notesWindow.querySelectorAll('.edit-note').forEach(btn => {
                btn.onclick = (e) => {
                    const noteId = parseInt(e.target.closest('.note').dataset.id);
                    const note = notes.find(n => n.id === noteId);
                    if (note) {
                        const editor = createNoteEditor(note);
                        const noteElement = e.target.closest('.note');
                        noteElement.replaceWith(editor);
                    }
                };
            });

            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù
            notesWindow.querySelectorAll('.delete-note').forEach(btn => {
                btn.onclick = (e) => {
                    const noteId = parseInt(e.target.closest('.note').dataset.id);
                    if (confirm('Are you sure you want to delete this note?')) {
                        notes = notes.filter(note => note.id !== noteId);
                        localStorage.setItem('notes', JSON.stringify(notes));
                        refreshNotesList(notesWindow);
                    }
                };
            });
        }

        function refreshNotesList(notesWindow) {
            const notesList = notesWindow.querySelector('.notes-list');
            notesList.innerHTML = renderNotes();
            updateNoteListeners(notesWindow);
        }

        function renderNotes() {
            return notes.map(note => `
                <div class="note" data-id="${note.id}">
                    <div class="note-header">
                        <span class="note-title">${note.title}</span>
                        <div class="note-actions">
                            <button class="edit-note">âœï¸</button>
                            <button class="delete-note">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="note-content">${note.content}</div>
                    <div class="note-date">${note.date}</div>
                </div>
            `).join('');
        }

        // Add new function to create browser window
        function createBrowserWindow() {
            const browserWindow = document.createElement('div');
            browserWindow.className = 'window browser-window active';
            
            browserWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸŒ</span>
                        Chrome
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <iframe 
                        src="https://www.google.com/webhp?igu=1" 
                        id="browserFrame" 
                        frameborder="0" 
                        sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; geolocation; picture-in-picture"
                    ></iframe>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(browserWindow);

            // Add window controls
            const closeBtn = browserWindow.querySelector('.window-button.close');
            const minimizeBtn = browserWindow.querySelector('.window-button.minimize');
            const maximizeBtn = browserWindow.querySelector('.window-button.maximize');

            closeBtn.onclick = () => {
                browserWindow.classList.remove('active');
                setTimeout(() => browserWindow.remove(), 300);
                document.querySelector('.taskbar-app[title="Browser"]').classList.remove('active');
            };

            minimizeBtn.onclick = () => {
                browserWindow.classList.remove('active');
                document.querySelector('.taskbar-app[title="Browser"]').classList.remove('active');
            };

            maximizeBtn.onclick = () => {
                browserWindow.classList.toggle('maximized');
            };

            // Make window draggable
            const header = browserWindow.querySelector('.window-header');
            let isDragging = false;
            let currentX;
            let currentY;
            let initialX;
            let initialY;
            let xOffset = 0;
            let yOffset = 0;

            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            function dragStart(e) {
                if (e.target === header || e.target.closest('.window-header')) {
                    isDragging = true;
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                }
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    xOffset = currentX;
                    yOffset = currentY;

                    browserWindow.style.transform = `translate(calc(-50% + ${currentX}px), calc(-50% + ${currentY}px))`;
                }
            }

            function dragEnd() {
                initialX = currentX;
                initialY = currentY;
                isDragging = false;
            }
        }

        // Update the maximize functionality for all windows
        function toggleMaximize(window) {
            if (window.classList.contains('maximized')) {
                // Restore
                window.classList.remove('maximized');
                window.style.width = '400px';
                window.style.height = 'auto';
                window.style.top = '50%';
                window.style.left = '50%';
                window.style.transform = 'translate(-50%, -50%)';
            } else {
                // Maximize
                window.classList.add('maximized');
                window.style.width = '100%';
                window.style.height = 'calc(100% - 40px)';
                window.style.top = '0';
                window.style.left = '0';
                window.style.transform = 'none';
            }
        }

        // Add this function to make windows draggable
        function makeWindowDraggable(window) {
            const header = window.querySelector('.window-header');
            let isDragging = false;
            let currentX;
            let currentY;
            let initialX;
            let initialY;
            let xOffset = 0;
            let yOffset = 0;

            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            function dragStart(e) {
                if (!window.classList.contains('maximized') && 
                    (e.target === header || e.target.closest('.window-header')) && 
                    !e.target.closest('.window-controls')) {
                    isDragging = true;
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                }
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    xOffset = currentX;
                    yOffset = currentY;

                    window.style.transform = `translate(calc(-50% + ${currentX}px), calc(-50% + ${currentY}px))`;
                }
            }

            function dragEnd() {
                initialX = currentX;
                initialY = currentY;
                isDragging = false;
            }
        }

        // Add this function to set up window controls
        function setupWindowControls(window, appTitle) {
            const closeBtn = window.querySelector('.window-button.close');
            const minimizeBtn = window.querySelector('.window-button.minimize');
            const maximizeBtn = window.querySelector('.window-button.maximize');

            closeBtn.onclick = () => {
                window.classList.remove('active');
                setTimeout(() => window.remove(), 300);
                document.querySelector(`.taskbar-app[title="${appTitle}"]`).classList.remove('active');
            };

            minimizeBtn.onclick = () => {
                window.classList.remove('active');
                document.querySelector(`.taskbar-app[title="${appTitle}"]`).classList.remove('active');
            };

            maximizeBtn.onclick = () => toggleMaximize(window);

            makeWindowDraggable(window);
        }

        // Add the new createFilesWindow function (add after other window creation functions)
        function createFilesWindow() {
            // Initialize files data from localStorage or use default
            let files = JSON.parse(localStorage.getItem('files')) || [
                { type: 'folder', name: 'Images', icon: 'ğŸ“' },
                { type: 'folder', name: 'Downloads', icon: 'ğŸ“' },
                { type: 'file', name: 'Document.txt', icon: 'ğŸ“„' }
            ];

            const filesWindow = document.createElement('div');
            filesWindow.className = 'window files-window active';
            
            filesWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ“</span>
                        Files
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="files-section">
                        <div class="files-toolbar">
                            <button class="new-folder-btn">New Folder</button>
                            <button class="upload-btn">Upload</button>
                            <input type="file" class="file-input" style="display: none;" multiple>
                        </div>
                        <div class="files-list">
                            ${renderFiles(files)}
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(filesWindow);

            // Add window controls
            setupWindowControls(filesWindow);

            // Function to render files
            function renderFiles(files) {
                return files.map(file => `
                    <div class="file-item" data-name="${file.name}">
                        <span class="file-icon">${file.icon}</span>
                        <span class="file-name">${file.name}</span>
                        <div class="file-actions">
                            <button class="delete-file">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                `).join('');
            }

            // Function to update files display
            function updateFilesDisplay() {
                const filesList = filesWindow.querySelector('.files-list');
                filesList.innerHTML = renderFiles(files);
                localStorage.setItem('files', JSON.stringify(files));
                addFileListeners();
            }

            // Function to add file item listeners
            function addFileListeners() {
                filesWindow.querySelectorAll('.delete-file').forEach(btn => {
                    btn.onclick = (e) => {
                        e.stopPropagation();
                        const fileName = e.target.closest('.file-item').dataset.name;
                        
                        // Create custom confirmation dialog
                        const notification = document.createElement('div');
                        notification.className = 'system-notification';
                        notification.innerHTML = `
                            <div class="notification-content">
                                <span class="notification-icon">ğŸ—‘ï¸</span>
                                <span>Are you sure you want to delete "${fileName}"?</span>
                            </div>
                            <div class="notification-buttons">
                                <button class="confirm-btn">Delete</button>
                                <button class="cancel-btn">Cancel</button>
                            </div>
                        `;
                        
                        // Add to computer screen instead of body
                        document.querySelector('.computer-screen').appendChild(notification);

                        // Handle confirmation
                        notification.querySelector('.confirm-btn').onclick = () => {
                            files = files.filter(f => f.name !== fileName);
                            updateFilesDisplay();
                            showSystemMessage(`Deleted "${fileName}" successfully`);
                            notification.remove();
                        };

                        // Handle cancellation
                        notification.querySelector('.cancel-btn').onclick = () => {
                            notification.remove();
                        };
                    };
                });

                filesWindow.querySelectorAll('.file-item').forEach(item => {
                    item.ondblclick = () => {
                        const fileName = item.dataset.name;
                        const file = files.find(f => f.name === fileName);
                        if (file.type === 'folder') {
                            showSystemMessage('Opening folder: ' + fileName);
                            // Here you could implement folder navigation
                        } else {
                            showSystemMessage('Opening file: ' + fileName);
                            // Here you could implement file preview
                        }
                    };
                });

                // Add rename functionality
                addRenameFileListener();
            }

            // Update the addFileListeners function to include rename functionality
            function addFileListeners() {
                filesWindow.querySelectorAll('.delete-file').forEach(btn => {
                    btn.onclick = (e) => {
                        e.stopPropagation();
                        const fileName = e.target.closest('.file-item').dataset.name;
                        
                        // Create custom confirmation dialog
                        const notification = document.createElement('div');
                        notification.className = 'system-notification';
                        notification.innerHTML = `
                            <div class="notification-content">
                                <span class="notification-icon">ğŸ—‘ï¸</span>
                                <span>Are you sure you want to delete "${fileName}"?</span>
                            </div>
                            <div class="notification-buttons">
                                <button class="confirm-btn">Delete</button>
                                <button class="cancel-btn">Cancel</button>
                            </div>
                        `;
                        
                        // Add to computer screen instead of body
                        document.querySelector('.computer-screen').appendChild(notification);

                        // Handle confirmation
                        notification.querySelector('.confirm-btn').onclick = () => {
                            files = files.filter(f => f.name !== fileName);
                            updateFilesDisplay();
                            showSystemMessage(`Deleted "${fileName}" successfully`);
                            notification.remove();
                        };

                        // Handle cancellation
                        notification.querySelector('.cancel-btn').onclick = () => {
                            notification.remove();
                        };
                    };
                });

                filesWindow.querySelectorAll('.file-item').forEach(item => {
                    item.ondblclick = () => {
                        const fileName = item.dataset.name;
                        const file = files.find(f => f.name === fileName);
                        if (file.type === 'folder') {
                            showSystemMessage('Opening folder: ' + fileName);
                            // Here you could implement folder navigation
                        } else {
                            showSystemMessage('Opening file: ' + fileName);
                            // Here you could implement file preview
                        }
                    };
                });

                // Add rename functionality
                addRenameFileListener();
            }

            // Add this helper function inside createFilesWindow
            function showSystemMessage(message) {
                const systemMessage = document.createElement('div');
                systemMessage.className = 'system-message';
                systemMessage.textContent = message;
                
                // Add the message to the computer screen instead of the body
                const computerScreen = document.querySelector('.computer-screen');
                computerScreen.appendChild(systemMessage);

                setTimeout(() => {
                    systemMessage.classList.add('fade-out');
                    setTimeout(() => systemMessage.remove(), 300);
                }, 2000);
            }

            // Upload functionality
            const uploadBtn = filesWindow.querySelector('.upload-btn');
            const fileInput = filesWindow.querySelector('.file-input');

            uploadBtn.onclick = () => fileInput.click();

            fileInput.onchange = (e) => {
                const newFiles = Array.from(e.target.files);
                newFiles.forEach(file => {
                    if (files.some(f => f.name === file.name)) {
                        alert(`File "${file.name}" already exists!`);
                        return;
                    }
                    
                    // Determine icon based on file type
                    let icon = 'ğŸ“„'; // default
                    if (file.type.startsWith('image/')) icon = 'ğŸ–¼ï¸';
                    else if (file.type.startsWith('video/')) icon = 'ğŸ¥';
                    else if (file.type.startsWith('audio/')) icon = 'ğŸ™ï¸';
                    
                    files.unshift({
                        type: 'file',
                        name: file.name,
                        icon: icon,
                        size: file.size,
                        lastModified: file.lastModified
                    });
                });
                
                updateFilesDisplay();
                fileInput.value = ''; // Reset input
            };

            // Initial file listeners
            addFileListeners();

            // Make window draggable
            makeWindowDraggable(filesWindow);
        }

        // Helper function for window controls
        function setupWindowControls(window) {
            const closeBtn = window.querySelector('.close');
            const minimizeBtn = window.querySelector('.minimize');
            const maximizeBtn = window.querySelector('.maximize');

            closeBtn.onclick = () => {
                window.classList.remove('active');
                document.querySelector('.taskbar-app[title="Files"]').classList.remove('active');
            };

            minimizeBtn.onclick = () => {
                window.classList.remove('active');
                document.querySelector('.taskbar-app[title="Files"]').classList.remove('active');
            };

            maximizeBtn.onclick = () => window.classList.toggle('maximized');
        }

        // Add this case to the switch statement in the start menu click handler
        switch(appName) {
            case 'Calendar':
                createCalendarWindow();
                break;
            case 'Calculator':
                createCalculatorWindow();
                break;
            // ... existing cases ...
        }

        // Add this function to create the calendar window
        function createCalendarWindow() {
            const calendarWindow = document.createElement('div');
            calendarWindow.className = 'window active';  // Remove calendar-window class, use standard window class
            
            const currentDate = new Date();
            const currentMonth = currentDate.getMonth();
            const currentYear = currentDate.getFullYear();
            
            calendarWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ“…</span>
                        Calendar
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="calendar-controls">
                        <button class="prev-month">â—€</button>
                        <h3 class="current-month"></h3>
                        <button class="next-month">â–¶</button>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-header">
                            <span>Sun</span>
                            <span>Mon</span>
                            <span>Tue</span>
                            <span>Wed</span>
                            <span>Thu</span>
                            <span>Fri</span>
                            <span>Sat</span>
                        </div>
                        <div class="calendar-days"></div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(calendarWindow);
            setupWindowControls(calendarWindow, 'Calendar');
            makeWindowDraggable(calendarWindow);
            initializeCalendar(calendarWindow, currentMonth, currentYear);

            // Set initial window position and size
            calendarWindow.style.width = '400px';
            calendarWindow.style.top = '50%';
            calendarWindow.style.left = '50%';
            calendarWindow.style.transform = 'translate(-50%, -50%)';
        }

        // Add this function to initialize the calendar
        function initializeCalendar(calendarWindow, month, year) {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            let currentMonth = month;
            let currentYear = year;
            
            const monthTitle = calendarWindow.querySelector('.current-month');
            const daysGrid = calendarWindow.querySelector('.calendar-days');
            const prevMonthBtn = calendarWindow.querySelector('.prev-month');
            const nextMonthBtn = calendarWindow.querySelector('.next-month');
            
            function renderCalendar(month, year) {
                monthTitle.textContent = `${monthNames[month]} ${year}`;
                
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const startingDay = firstDay.getDay();
                const totalDays = lastDay.getDate();
                
                let daysHTML = '';
                
                // Add empty cells for days before the first day of the month
                for (let i = 0; i < startingDay; i++) {
                    daysHTML += '<div class="calendar-day empty"></div>';
                }
                
                // Add cells for each day of the month
                for (let day = 1; day <= totalDays; day++) {
                    const isToday = day === new Date().getDate() && 
                                   month === new Date().getMonth() && 
                                   year === new Date().getFullYear();
                    
                    daysHTML += `
                        <div class="calendar-day ${isToday ? 'today' : ''}" data-date="${year}-${month + 1}-${day}">
                            ${day}
                        </div>
                    `;
                }
                
                daysGrid.innerHTML = daysHTML;
            }
            
            // Initialize calendar
            renderCalendar(currentMonth, currentYear);
            
            // Add event listeners for month navigation
            prevMonthBtn.addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar(currentMonth, currentYear);
            });
            
            nextMonthBtn.addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar(currentMonth, currentYear);
            });
        }

        function createCalculatorWindow() {
            const calculatorWindow = document.createElement('div');
            calculatorWindow.className = 'window calculator-window active';
            
            calculatorWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ§®</span>
                        Calculator
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="calculator">
                        <div class="calc-display">0</div>
                        <div class="calc-buttons">
                            <button class="calc-btn function">AC</button>
                            <button class="calc-btn function">Â±</button>
                            <button class="calc-btn function">%</button>
                            <button class="calc-btn operator">Ã·</button>
                            
                            <button class="calc-btn number">7</button>
                            <button class="calc-btn number">8</button>
                            <button class="calc-btn number">9</button>
                            <button class="calc-btn operator">Ã—</button>
                            
                            <button class="calc-btn number">4</button>
                            <button class="calc-btn number">5</button>
                            <button class="calc-btn number">6</button>
                            <button class="calc-btn operator">âˆ’</button>
                            
                            <button class="calc-btn number">1</button>
                            <button class="calc-btn number">2</button>
                            <button class="calc-btn number">3</button>
                            <button class="calc-btn operator">+</button>
                            
                            <button class="calc-btn number zero">0</button>
                            <button class="calc-btn number">.</button>
                            <button class="calc-btn operator">=</button>
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(calculatorWindow);
            setupWindowControls(calculatorWindow, 'Calculator');
            makeWindowDraggable(calculatorWindow);
            initializeCalculator(calculatorWindow);
        }

        function initializeCalculator(calculatorWindow) {
            let displayValue = '0';
            let firstOperand = null;
            let operator = null;
            let waitingForSecondOperand = false;
            
            const display = calculatorWindow.querySelector('.calc-display');
            
            function updateDisplay() {
                display.textContent = displayValue;
            }
            
            function inputDigit(digit) {
                if (waitingForSecondOperand) {
                    displayValue = digit;
                    waitingForSecondOperand = false;
                } else {
                    displayValue = displayValue === '0' ? digit : displayValue + digit;
                }
            }
            
            function inputDecimal() {
                if (waitingForSecondOperand) {
                    displayValue = '0.';
                    waitingForSecondOperand = false;
                    return;
                }
                if (!displayValue.includes('.')) {
                    displayValue += '.';
                }
            }
            
            function handleOperator(nextOperator) {
                const inputValue = parseFloat(displayValue);
                
                if (firstOperand === null) {
                    firstOperand = inputValue;
                } else if (operator) {
                    const result = calculate(firstOperand, inputValue, operator);
                    displayValue = `${parseFloat(result.toFixed(7))}`;
                    firstOperand = result;
                }
                
                waitingForSecondOperand = true;
                operator = nextOperator;
            }
            
            function calculate(first, second, op) {
                switch (op) {
                    case '+': return first + second;
                    case 'âˆ’': return first - second;
                    case 'Ã—': return first * second;
                    case 'Ã·': return first / second;
                    default: return second;
                }
            }
            
            calculatorWindow.querySelectorAll('.calc-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const value = button.textContent;
                    
                    if (button.classList.contains('number')) {
                        if (value === '.') {
                            inputDecimal();
                        } else {
                            inputDigit(value);
                        }
                        updateDisplay();
                    } else if (button.classList.contains('operator')) {
                        if (value === '=') {
                            if (operator && !waitingForSecondOperand) {
                                handleOperator(null);
                                operator = null;
                            }
                        } else {
                            handleOperator(value);
                        }
                        updateDisplay();
                    } else if (button.classList.contains('function')) {
                        if (value === 'AC') {
                            displayValue = '0';
                            firstOperand = null;
                            operator = null;
                            waitingForSecondOperand = false;
                        } else if (value === 'Â±') {
                            displayValue = (parseFloat(displayValue) * -1).toString();
                        } else if (value === '%') {
                            displayValue = (parseFloat(displayValue) / 100).toString();
                        }
                        updateDisplay();
                    }
                });
            });
        }

        function createGamesWindow() {
            const gamesWindow = document.createElement('div');
            gamesWindow.className = 'window active';
            
            gamesWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ®</span>
                        Games
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="games-grid">
                        <div class="game-choice" data-game="snake">
                            <div class="game-icon">ğŸ</div>
                            <span>Snake</span>
                        </div>
                        <div class="game-choice" data-game="number-guessing">
                            <div class="game-icon">ğŸ”¢</div>
                            <span>Number Guessing</span>
                        </div>
                        
                        <div class="game-choice" data-game="rock-paper-scissors">
                            <div class="game-icon">ğŸª¨</div>
                            <span>Rock-Paper-Scissors</span>
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(gamesWindow);
            setupWindowControls(gamesWindow, 'Games');
            makeWindowDraggable(gamesWindow);

            // Add click handlers for games
            gamesWindow.querySelectorAll('.game-choice').forEach(game => {
                game.addEventListener('click', () => {
                    const gameType = game.dataset.game;
                    switch(gameType) {
                        case 'snake':
                            createSnakeWindow();
                            break;
                        case 'number-guessing':
                            createNumberGuessingWindow();
                            break;
                        case 'breakout':
                            createBreakoutWindow();
                            break;
                        case 'rock-paper-scissors':
                            createRockPaperScissorsWindow();
                            break;
                    }
                });
            });
        }

        // Find where you handle the start menu app clicks and add/modify the switch statement:
        document.querySelectorAll('.start-menu-app').forEach(app => {
            app.addEventListener('click', () => {
                const appName = app.dataset.app;
                console.log('Clicked app:', appName); // Add this for debugging
                
                switch(appName) {
                    case 'Games':
                        createGamesWindow();
                        // Close the start menu after opening games
                        document.querySelector('.start-menu').classList.remove('active');
                        break;
                    // ... other cases ...
                }
            });
        });

        // Make sure the createGamesWindow function is defined as shown in previous response
        function createGamesWindow() {
            const gamesWindow = document.createElement('div');
            gamesWindow.className = 'window active';
            
            gamesWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ®</span>
                        Games
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="games-grid">
                        <div class="game-choice" data-game="snake">
                            <div class="game-icon">ğŸ</div>
                            <span>Snake</span>
                        </div>
                        <div class="game-choice" data-game="number-guessing">
                            <div class="game-icon">ğŸ”¢</div>
                            <span>Number Guessing</span>
                        </div>
                        
                        <div class="game-choice" data-game="rock-paper-scissors">
                            <div class="game-icon">ğŸª¨</div>
                            <span>Rock-Paper-Scissors</span>
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(gamesWindow);
            setupWindowControls(gamesWindow);
            makeWindowDraggable(gamesWindow);

            // Add click handlers for games
            gamesWindow.querySelectorAll('.game-choice').forEach(game => {
                game.addEventListener('click', () => {
                    const gameType = game.dataset.game;
                    switch(gameType) {
                        case 'snake':
                            createSnakeWindow();
                            break;
                        case 'number-guessing':
                            createNumberGuessingWindow();
                            break;
                        case 'breakout':
                            createBreakoutWindow();
                            break;
                        case 'rock-paper-scissors':
                            createRockPaperScissorsWindow();
                            break;
                    }
                });
            });
        }

        // Add this function after other window creation functions
        function createSnakeWindow() {
            // Remove any existing snake game window first
            const existingWindow = document.querySelector('.window[data-game="snake"]');
            if (existingWindow) {
                existingWindow.remove();
            }

            const snakeWindow = document.createElement('div');
            snakeWindow.className = 'window active';
            snakeWindow.setAttribute('data-game', 'snake');
            snakeWindow.style.width = '100%';
            snakeWindow.style.height = 'calc(100% - 40px)';
            snakeWindow.style.top = '0';
            snakeWindow.style.left = '0';
            snakeWindow.style.transform = 'none';
            
            // Updated HTML structure
            snakeWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸ</span>
                        Snake Game
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="snake-game">
                        <div class="game-stats">
                            <span class="score">Score: 0</span>
                            <span class="high-score">High Score: 0</span>
                        </div>
                        <canvas id="snakeCanvas"></canvas>
                        <div class="game-controls">
                            <button id="startSnake" class="start-button">Start Game</button>
                        </div>
                    </div>
                </div>
            `;

            document.querySelector('.computer-screen').appendChild(snakeWindow);
            
            // Add styles directly to ensure they're applied
            const gameControls = snakeWindow.querySelector('.game-controls');
            gameControls.style.position = 'absolute';
            gameControls.style.top = '50%';
            gameControls.style.left = '50%';
            gameControls.style.transform = 'translate(-50%, -50%)';
            gameControls.style.zIndex = '100';

            const startButton = snakeWindow.querySelector('.start-button');
            startButton.style.background = '#4CAF50';
            startButton.style.color = 'white';
            startButton.style.border = 'none';
            startButton.style.padding = '15px 30px';
            startButton.style.borderRadius = '8px';
            startButton.style.cursor = 'pointer';
            startButton.style.fontSize = '1.5em';
            startButton.style.fontWeight = 'bold';
            startButton.style.textTransform = 'uppercase';
            startButton.style.minWidth = '200px';
            startButton.style.boxShadow = '0 4px 15px rgba(76, 175, 80, 0.3)';

            const canvas = snakeWindow.querySelector('#snakeCanvas');
            canvas.style.opacity = '0.3';

            const gameStats = snakeWindow.querySelector('.game-stats');
            gameStats.style.position = 'absolute';
            gameStats.style.top = '20px';
            gameStats.style.left = '50%';
            gameStats.style.transform = 'translateX(-50%)';
            
            // Setup window controls and initialize game
            setupWindowControls(snakeWindow, 'Snake');
            makeWindowDraggable(snakeWindow);
            initializeSnakeGame();
        }

        function initializeSnakeGame() {
            const canvas = document.getElementById('snakeCanvas');
            const ctx = canvas.getContext('2d');
            const startBtn = document.getElementById('startSnake');
            const scoreElement = document.querySelector('.score');
            const highScoreElement = document.querySelector('.high-score');

            // Clear any existing game loop
            if (window.snakeGameLoop) {
                clearInterval(window.snakeGameLoop);
                window.snakeGameLoop = null;
            }

            // Remove any existing keydown listeners
            if (window.snakeKeyHandler) {
                document.removeEventListener('keydown', window.snakeKeyHandler);
            }

            function resizeCanvas() {
                const windowContent = canvas.closest('.window-content');
                // Reduce padding and margins to maximize game area
                const maxWidth = windowContent.clientWidth - 20;  // Reduced padding
                const maxHeight = windowContent.clientHeight - 60; // Reduced space for controls

                canvas.width = maxWidth;
                canvas.height = maxHeight;
                
                // Adjust grid size based on canvas size
                window.gridSize = Math.floor(Math.min(maxWidth, maxHeight) / 30); // Dynamic grid size
            }

            resizeCanvas();
            const resizeHandler = () => resizeCanvas();
            window.addEventListener('resize', resizeHandler);

            let snake = [];
            let food = {};
            let direction = 'right';
            let score = 0;
            let highScore = localStorage.getItem('snakeHighScore') || 0;
            const speed = 100;

            // Use window.gridSize instead of a fixed value
            const gridSize = () => window.gridSize;

            highScoreElement.textContent = `High Score: ${highScore}`;

            function createFood() {
                food = {
                    x: Math.floor(Math.random() * (canvas.width / gridSize())) * gridSize(),
                    y: Math.floor(Math.random() * (canvas.height / gridSize())) * gridSize()
                };
            }

            function draw() {
                // Clear canvas with darker background
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Draw grid with brighter lines
                ctx.strokeStyle = '#1a1a1a';
                ctx.lineWidth = 1;
                for (let i = 0; i < canvas.width; i += gridSize()) {
                    ctx.beginPath();
                    ctx.moveTo(i, 0);
                    ctx.lineTo(i, canvas.height);
                    ctx.stroke();
                }
                for (let i = 0; i < canvas.height; i += gridSize()) {
                    ctx.beginPath();
                    ctx.moveTo(0, i);
                    ctx.lineTo(canvas.width, i);
                    ctx.stroke();
                }

                // Draw snake with brighter colors and glow effect
                snake.forEach((segment, index) => {
                    // Glow effect
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = '#4CAF50';
                    
                    if (index === 0) {
                        // Head with brighter green
                        ctx.fillStyle = '#00ff00';
                    } else {
                        // Body with gradient green
                        ctx.fillStyle = '#32CD32';
                    }
                    
                    ctx.fillRect(segment.x, segment.y, gridSize() - 2, gridSize() - 2);
                    
                    if (index === 0) {
                        // Draw eyes with glow
                        ctx.shadowBlur = 5;
                        ctx.shadowColor = '#ffffff';
                        ctx.fillStyle = '#ffffff';
                        const eyeSize = gridSize() / 6;
                        const eyeOffset = gridSize() / 4;
                        
                        // Adjust eye position based on direction
                        switch(direction) {
                            case 'right':
                                ctx.fillRect(segment.x + gridSize() - eyeOffset * 2, segment.y + eyeOffset, eyeSize, eyeSize);
                                ctx.fillRect(segment.x + gridSize() - eyeOffset * 2, segment.y + gridSize() - eyeOffset * 2, eyeSize, eyeSize);
                                break;
                            case 'left':
                                ctx.fillRect(segment.x + eyeOffset, segment.y + eyeOffset, eyeSize, eyeSize);
                                ctx.fillRect(segment.x + eyeOffset, segment.y + gridSize() - eyeOffset * 2, eyeSize, eyeSize);
                                break;
                            case 'up':
                                ctx.fillRect(segment.x + eyeOffset, segment.y + eyeOffset, eyeSize, eyeSize);
                                ctx.fillRect(segment.x + gridSize() - eyeOffset * 2, segment.y + eyeOffset, eyeSize, eyeSize);
                                break;
                            case 'down':
                                ctx.fillRect(segment.x + eyeOffset, segment.y + gridSize() - eyeOffset * 2, eyeSize, eyeSize);
                                ctx.fillRect(segment.x + gridSize() - eyeOffset * 2, segment.y + gridSize() - eyeOffset * 2, eyeSize, eyeSize);
                                break;
                        }
                    }
                });

                // Reset shadow for food
                ctx.shadowBlur = 20;
                ctx.shadowColor = '#ff4444';

                // Draw food with brighter red and glow
                ctx.fillStyle = '#ff0000';
                ctx.fillRect(food.x, food.y, gridSize() - 2, gridSize() - 2);

                // Reset shadow blur
                ctx.shadowBlur = 0;
            }

            // Update canvas style for better contrast
            canvas.style.opacity = '1';
            canvas.style.border = '3px solid #333';
            canvas.style.boxShadow = '0 0 20px rgba(0, 255, 0, 0.2)';

            function moveSnake() {
                const head = { x: snake[0].x, y: snake[0].y };

                switch (direction) {
                    case 'up': head.y -= gridSize(); break;
                    case 'down': head.y += gridSize(); break;
                    case 'left': head.x -= gridSize(); break;
                    case 'right': head.x += gridSize(); break;
                }

                // Check collision with walls
                if (head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height) {
                    gameOver();
                    return;
                }

                // Check collision with self
                if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                    gameOver();
                    return;
                }

                snake.unshift(head);

                // Check if food is eaten
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    scoreElement.textContent = `Score: ${score}`;
                    createFood();
                } else {
                    snake.pop();
                }
            }

            function gameOver() {
                clearInterval(window.snakeGameLoop);
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem('snakeHighScore', highScore);
                    highScoreElement.textContent = `High Score: ${highScore}`;
                }
                startBtn.textContent = 'Restart Game';
                startBtn.disabled = false;
                startBtn.style.display = 'block'; // Show the button again
                canvas.classList.remove('game-active');
            }

            function initGame() {
                const gs = gridSize();
                snake = [
                    { x: 3 * gs, y: 0 },
                    { x: 2 * gs, y: 0 },
                    { x: gs, y: 0 },
                    { x: 0, y: 0 }
                ];
                score = 0;
                scoreElement.textContent = `Score: ${score}`;
                direction = 'right';
                createFood();
            }

            window.snakeKeyHandler = function(e) {
                switch (e.key) {
                    case 'ArrowUp':
                        if (direction !== 'down') direction = 'up';
                        break;
                    case 'ArrowDown':
                        if (direction !== 'up') direction = 'down';
                        break;
                    case 'ArrowLeft':
                        if (direction !== 'right') direction = 'left';
                        break;
                    case 'ArrowRight':
                        if (direction !== 'left') direction = 'right';
                        break;
                }
            };

            document.addEventListener('keydown', window.snakeKeyHandler);

            startBtn.addEventListener('click', () => {
                if (window.snakeGameLoop) {
                    clearInterval(window.snakeGameLoop);
                }
                initGame();
                window.snakeGameLoop = setInterval(() => {
                    moveSnake();
                    draw();
                }, speed);
                startBtn.disabled = true;
                startBtn.textContent = 'Game In Progress';
                canvas.classList.add('game-active');
                startBtn.style.display = 'none'; // Hide the button when game starts
            });

            canvas.closest('.window').addEventListener('remove', () => {
                clearInterval(window.snakeGameLoop);
                window.snakeGameLoop = null;
                document.removeEventListener('keydown', window.snakeKeyHandler);
                window.removeEventListener('resize', resizeHandler);
            });
        }

        function createNumberGuessingWindow() { // New function for number guessing game
            const guessingWindow = document.createElement('div');
            guessingWindow.className = 'window active';
            guessingWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon"></span>
                        Number Guessing Game
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="guessing-game">
                        <p>Guess a number between 1 and 7:</p>
                        <div id="buttonContainer"></div> <!-- Container for number buttons -->
                        <p id="resultMessage"></p>
                        <button id="restartButton" style="display: none;">Restart Game</button> <!-- Restart button -->
                    </div>
                </div>
            `;
            document.querySelector('.computer-screen').appendChild(guessingWindow);
            
            // Set the size of the guessing window
            guessingWindow.style.width = '450px'; // Increased width
            guessingWindow.style.height = '350px'; // Increased height
            
            // Call setupWindowControls for the number guessing window
            setupWindowControls(guessingWindow, 'Number Guessing Game'); // Ensure this line is added

            let randomNumber = Math.floor(Math.random() * 7) + 1; // Random number between 1 and 7
            const resultMessage = guessingWindow.querySelector('#resultMessage');
            const buttonContainer = guessingWindow.querySelector('#buttonContainer');
            const restartButton = guessingWindow.querySelector('#restartButton');

            // Create buttons for numbers 1 to 7
            for (let i = 1; i <= 7; i++) {
                const button = document.createElement('button');
                button.textContent = i;
                button.className = 'number-button'; // Add a class for styling
                button.addEventListener('click', () => {
                    if (i === randomNumber) {
                        resultMessage.textContent = 'Congratulations! You guessed the number!';
                    } else {
                        resultMessage.textContent = `Wrong guess! The number was ${randomNumber}.`;
                    }
                    // Disable all buttons after a guess
                    document.querySelectorAll('.number-button').forEach(btn => btn.disabled = true);
                    restartButton.style.display = 'block'; // Show the restart button
                });
                buttonContainer.appendChild(button);
            }

            // Restart button functionality
            restartButton.addEventListener('click', () => {
                randomNumber = Math.floor(Math.random() * 7) + 1; // Generate a new random number
                resultMessage.textContent = ''; // Clear the result message
                restartButton.style.display = 'none'; // Hide the restart button
                document.querySelectorAll('.number-button').forEach(btn => {
                    btn.disabled = false; // Enable all buttons
                });
            });

            // Style the restart button
            restartButton.style.backgroundColor = '#4CAF50'; // Green background
            restartButton.style.color = 'white'; // White text
            restartButton.style.border = 'none'; // No border
            restartButton.style.padding = '10px 15px'; // Padding
            restartButton.style.borderRadius = '5px'; // Rounded corners
            restartButton.style.cursor = 'pointer'; // Pointer cursor
            restartButton.style.fontSize = '1.2em'; // Font size
            restartButton.style.marginTop = '10px'; // Margin on top

            // Style the number buttons
            const numberButtons = document.querySelectorAll('.number-button');
            numberButtons.forEach(btn => {
                btn.style.width = '60px'; // Set button width
                btn.style.height = '60px'; // Set button height
                btn.style.margin = '5px'; // Add margin for spacing
                btn.style.fontSize = '1.5em'; // Increase font size
                btn.style.backgroundColor = '#4CAF50'; // Green background for buttons
                btn.style.color = 'white'; // White text for buttons
                btn.style.border = 'none'; // No border
                btn.style.borderRadius = '5px'; // Rounded corners
                btn.style.cursor = 'pointer'; // Pointer cursor
                btn.style.transition = 'background 0.3s'; // Transition for hover effect

                // Add hover effect
                btn.addEventListener('mouseover', () => {
                    btn.style.backgroundColor = '#45a049'; // Darker green on hover
                });
                btn.addEventListener('mouseout', () => {
                    btn.style.backgroundColor = '#4CAF50'; // Reset to original color
                });
            });
        }

        // Add this function to setup window controls
        function setupWindowControls(windowElement, title) {
            const minimizeButton = windowElement.querySelector('.minimize');
            const maximizeButton = windowElement.querySelector('.maximize');
            const closeButton = windowElement.querySelector('.close');

            minimizeButton.addEventListener('click', () => {
                windowElement.classList.toggle('minimized'); // Toggle minimized class
                windowElement.style.display = windowElement.classList.contains('minimized') ? 'none' : 'block'; // Hide or show window
            });

            maximizeButton.addEventListener('click', () => {
                windowElement.classList.toggle('maximized'); // Toggle maximized class
                if (windowElement.classList.contains('maximized')) {
                    windowElement.style.width = '100%';
                    windowElement.style.height = '100%';
                    windowElement.style.top = '0';
                    windowElement.style.left = '0';
                    windowElement.style.transform = 'none';
                } else {
                    windowElement.style.width = '400px'; // Reset to original width
                    windowElement.style.height = 'auto'; // Reset to original height
                    windowElement.style.top = '50%'; // Reset position
                    windowElement.style.left = '50%'; // Reset position
                    windowElement.style.transform = 'translate(-50%, -50%)'; // Center the window
                }
            });

            closeButton.addEventListener('click', () => {
                windowElement.remove(); // Remove the window from the DOM
            });
        }

        function createRockPaperScissorsWindow() { // New function for Rock-Paper-Scissors game
            const rpsWindow = document.createElement('div');
            rpsWindow.className = 'window active';
            rpsWindow.style.width = '600px'; // Set the desired width
            rpsWindow.style.height = '400px'; // Set the desired height
            rpsWindow.innerHTML = `
                <div class="window-header">
                    <div class="window-title">
                        <span class="window-icon">ğŸª¨</span>
                        Rock-Paper-Scissors Game
                    </div>
                    <div class="window-controls">
                        <button class="window-button minimize">âˆ’</button>
                        <button class="window-button maximize">â–¡</button>
                        <button class="window-button close">Ã—</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="rps-game">
                        <p>Choose your option:</p>
                        <button class="rps-button" data-choice="rock" style="font-size: 2em;">ğŸª¨</button> <!-- Rock icon -->
                        <button class="rps-button" data-choice="paper" style="font-size: 2em;">ğŸ“„</button> <!-- Paper icon -->
                        <button class="rps-button" data-choice="scissors" style="font-size: 2em;">âœ‚ï¸</button> <!-- Scissors icon -->
                        <p id="rps-result"></p>
                        <p id="computer-choice"></p> <!-- New paragraph for computer choice -->
                        <button id="restart-button" style="margin-top: 20px; padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Restart Game</button> <!-- Restart button -->
                    </div>
                </div>
            `;
            document.querySelector('.computer-screen').appendChild(rpsWindow);
            
            // Setup window controls for the Rock-Paper-Scissors window
            setupWindowControls(rpsWindow, 'Rock-Paper-Scissors'); // Ensure this line is added
            
            // Setup event listeners for buttons
            rpsWindow.querySelectorAll('.rps-button').forEach(button => {
                button.addEventListener('click', () => {
                    const userChoice = button.dataset.choice;
                    const computerChoice = ['rock', 'paper', 'scissors'][Math.floor(Math.random() * 3)];
                    let result;
                    
                    if (userChoice === computerChoice) {
                        result = "It's a tie!";
                    } else if (
                        (userChoice === 'rock' && computerChoice === 'scissors') ||
                        (userChoice === 'paper' && computerChoice === 'rock') ||
                        (userChoice === 'scissors' && computerChoice === 'paper')
                    ) {
                        result = "You win!";
                    } else {
                        result = "You lose!";
                    }
                    
                    document.getElementById('rps-result').textContent = `You chose ${userChoice}, computer chose ${computerChoice}. ${result}`;
                    document.getElementById('computer-choice').innerHTML = `Computer chose: <span style="font-size: 2em;">${getChoiceIcon(computerChoice)}</span>`; // Display computer choice
                });
            });

            // Restart button functionality
            document.getElementById('restart-button').addEventListener('click', () => {
                document.getElementById('rps-result').textContent = ''; // Clear result
                document.getElementById('computer-choice').innerHTML = ''; // Clear computer choice
            });
        }

        function getChoiceIcon(choice) { // Function to return the icon based on choice
            switch (choice) {
                case 'rock':
                    return 'ğŸª¨'; // Rock icon
                case 'paper':
                    return 'ğŸ“„'; // Paper icon
                case 'scissors':
                    return 'âœ‚ï¸'; // Scissors icon
                default:
                    return ''; // Default case
            }
        }
    </script>
</body>
</html> 